{% extends "base.html" %}
{% block title %}Менің курстарым{% endblock %}

{% block content %}
<style>
    /* Прогресс-барға арналған стиль */
    .course-progress {
        height: 8px;
        background-color: var(--card-border);
        border-radius: 4px;
        overflow: hidden;
    }
    .course-progress-bar {
        height: 100%;
        background-color: var(--gold-accent);
        width: 25%; /* Бұл жерде болашақта нақты прогресс пайызы болады, әзірше мысал */
        border-radius: 4px;
        transition: width 0.5s ease-in-out;
    }
    .card:hover .course-progress-bar {
        width: 45%; /* курсорды апарғандағы шағын анимация */
    }
    /* Беттің кіру анимациясы */
    @keyframes fadeInSlideUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .content-wrapper {
        animation: fadeInSlideUp 0.6s ease-out;
    }
</style>

<div class="text-center mb-5">
    <h1 class="display-5 fw-bold">Менің курстарым</h1>
    <p class="fs-5 text-muted">Оқуды бастаңыз немесе тоқтаған жерден жалғастырыңыз</p>
</div>

<div class="row">
    {% for course in courses %}
    <div class="col-lg-4 col-md-6 mb-4">
        <div class="card h-100">
            {% if course.image %}
                <img src="{{ course.image.url }}" class="card-img-top" alt="{{ course.title }}" style="height: 200px; object-fit: cover;">
            {% endif %}
            <div class="card-body d-flex flex-column">
                <h5 class="card-title">{{ course.title }}</h5>
                <p class="card-text text-muted flex-grow-1 small">{{ course.description|truncatewords:12 }}</p>
                
                <div class="mt-auto">
                    <p class="card-text text-muted small mb-1">Сіздің прогресіңіз:</p>
                    <div class="course-progress mb-3">
                        <div class="course-progress-bar"></div>
                    </div>
                    <a href="{% url 'course_detail' course.pk %}" class="btn btn-primary w-100">Оқуды жалғастыру</a>
                </div>
            </div>
        </div>
    </div>
    {% empty %}
        <div class="text-center py-5 col-12">
            <i class="bi bi-book fs-1 text-muted"></i>
            <h4 class="mt-3">Сіз әлі ешқандай курс сатып алмадыңыз</h4>
            <p class="text-muted">Жаңа білімге ұмтылыңыз! Біздің курстарымызды қарап шығыңыз.</p>
            <a href="{% url 'course_list' %}" class="btn btn-primary mt-2">Курстарды қарау</a>
        </div>
    {% endfor %}
</div>

{% endblock %}